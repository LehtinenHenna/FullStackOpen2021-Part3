(this["webpackJsonptasks_6-10"]=this["webpackJsonptasks_6-10"]||[]).push([[0],{21:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),u=t(16),r=t.n(u),i=(t(21),t(3)),o=t(0),s=function(e){var n=e.message,t=e.success;return null===n?Object(o.jsx)("div",{className:"messagePlaceHolder"}):!0===t?Object(o.jsx)("div",{className:"successMessage",children:n}):!1===t?Object(o.jsx)("div",{className:"errorMessage",children:n}):void 0},l=function(e){var n=e.handler,t=e.id,c=e.text;return Object(o.jsx)("button",{onClick:function(){return n(t)},children:c})},d=function(e){var n=e.handleAddPerson,t=e.newName,c=e.newNumber,a=e.handleNameChange,u=e.handleNumberChange;return Object(o.jsxs)("form",{onSubmit:n,children:[Object(o.jsxs)("div",{children:[" name: ",Object(o.jsx)("input",{value:t,onChange:a})," "]}),Object(o.jsxs)("div",{children:[" number: ",Object(o.jsx)("input",{value:c,onChange:u})," "]}),Object(o.jsxs)("div",{children:[" ",Object(o.jsx)("button",{type:"submit",children:"add"})," "]})]})},h=function(e){var n=e.person,t=e.filter,c=e.handleDeleteClick,a=t.toUpperCase();return n.name.toUpperCase().includes(a)?Object(o.jsxs)("li",{children:[n.name," ",n.number,Object(o.jsx)(l,{handler:c,id:n.id,text:"delete"})]}):null},f=function(e){var n=e.persons,t=e.filter,c=e.handleDeleteClick;return Object(o.jsx)("ul",{children:n.map((function(e){return Object(o.jsx)(h,{person:e,filter:t,handleDeleteClick:c},e.name)}))})},b=function(e){var n=e.filter,t=e.handleFilterChange;return Object(o.jsxs)("div",{children:["filter shown with",Object(o.jsx)("input",{value:n,onChange:t})]})},j=t(4),m=t.n(j),O="/api/persons",p={getAll:function(){return m.a.get(O).then((function(e){return e.data}))},create:function(e){return m.a.post(O,e).then((function(e){return e.data}))},update:function(e,n){return m.a.put("".concat(O,"/").concat(e),n).then((function(e){return e.data}))},remove:function(e){return m.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))}},v=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],u=Object(c.useState)(""),r=Object(i.a)(u,2),l=r[0],h=r[1],j=Object(c.useState)(""),m=Object(i.a)(j,2),O=m[0],v=m[1],x=Object(c.useState)(""),g=Object(i.a)(x,2),C=g[0],w=g[1],N=Object(c.useState)(null),k=Object(i.a)(N,2),y=k[0],S=k[1],T=Object(c.useState)(!0),P=Object(i.a)(T,2),A=P[0],D=P[1];Object(c.useEffect)((function(){p.getAll().then((function(e){a(e)}))}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:" Phonebook "}),Object(o.jsx)(s,{message:y,success:A}),Object(o.jsx)(b,{filter:C,handleFilterChange:function(e){w(e.target.value)}}),Object(o.jsx)("h2",{children:" Add a new "}),Object(o.jsx)(d,{handleAddPerson:function(e){e.preventDefault();var n={name:l,number:O},c=t.find((function(e){return e.name.toUpperCase()===n.name.toUpperCase()}));c?c.number!==n.number?!0===window.confirm("".concat(c.name," is already added to the phonebook, replace old number with a new one?"))&&p.update(c.id,n).then((function(e){a(t.map((function(n){return n.id!==c.id?n:e}))),h(""),v(""),D(!0),S("".concat(n.name,"'s phone number updated successfully")),setTimeout((function(){S(null)}),4e3)})).catch((function(e){a(t.filter((function(e){return e.id!==c.id}))),D(!1),S("".concat(n.name," was already deleted from the phone book")),setTimeout((function(){S(null)}),4e3)})):(D(!1),S("".concat(l," is already added to the phonebook.")),setTimeout((function(){S(null)}),4e3)):isNaN(n.number)?(D(!1),S("".concat(O," is not a valid phone number.")),setTimeout((function(){S(null)}),4e3)):""===n.name||""===n.number?(D(!1),S("Please add a name and a number."),setTimeout((function(){S(null)}),4e3)):p.create(n).then((function(e){a(t.concat(e)),h(""),v(""),D(!0),S("".concat(n.name," added to the phonebook")),setTimeout((function(){S(null)}),4e3)})).catch((function(e){D(!1),S(JSON.stringify(e.response.data)),setTimeout((function(){S(null)}),7e3)}))},newName:l,newNumber:O,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){v(e.target.value)}}),Object(o.jsx)("h2",{children:" Numbers "}),Object(o.jsx)(f,{persons:t,filter:C,handleDeleteClick:function(e){if(!0===window.confirm("Are you sure you want to delete this person?")){var n=t.find((function(n){return n.id===e}));p.remove(e).then((function(){a(t.filter((function(n){return n.id!==e}))),D(!0),S("".concat(n.name," successfully deleted")),setTimeout((function(){S(null)}),4e3)}))}}})]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,u=n.getLCP,r=n.getTTFB;t(e),c(e),a(e),u(e),r(e)}))};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root")),x()}},[[41,1,2]]]);
//# sourceMappingURL=main.87722331.chunk.js.map